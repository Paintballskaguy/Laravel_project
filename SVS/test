<!DOCTYPE html>
<html lang="{{  config('app.locale') }}">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{{ asset('css/app.css') }}">
        <title>{{ config('app.name', 'SVS') }}</title>
    </head>
    <body>
          @include('inc.navbar')
        <div class="container mt-5">
            @include('inc.messages')
            @yield('content')
        </div>
        
        <script src="{{ asset('js/app.js') }}"></script>
        <script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>

        <script>
            // 'DOMContentLoaded' runs as soon as the HTML is ready, without waiting for images
            document.addEventListener("DOMContentLoaded", function() {
                console.log("DOM ready. Checking for article-ckeditor...");
                
                var editorElement = document.getElementById('article-ckeditor');
                
                if (editorElement) {
                    console.log("ID found. Initializing CKEditor...");
                    // Extra check to ensure the library is loaded
                    if (typeof CKEDITOR !== 'undefined') {
                        CKEDITOR.replace('article-ckeditor');
                    } else {
                        console.error("CKEDITOR library not found. Check your CDN link.");
                    }
                } else {
                    console.log("No CKEditor textarea on this page.");
                }
            });
        </script>
    </body>
</html>